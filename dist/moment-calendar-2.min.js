!function(){"use strict";angular.module("ngMomentCalendar.service",[]).factory("MonthCalendar",["MonthCalendarUtils",function(e){function t(e){return this.weeksTableDateMap[e]}function n(e){var t=this.locateDate(e);return this.momentWeeksTable[t.row][t.col]}function a(t,n,a){t=e.isValidDate(t)?t:moment(),angular.extend(this,e.populateWeeksTable(t))}function r(e,t){return angular.extend(this.getDate(e),t)}function o(e){var o=Object.create({setMonth:a,setDate:r,getDate:n,locateDate:t});return o.setMonth(e),o}return{getInstance:o}}]),angular.module("ngMomentCalendar.service").factory("MonthCalendarUtils",function(){function e(e){for(var t=moment(e).daysInMonth(),n=[],a=1;a<=t;a++)n.push(a);return n}function t(e){for(var t=moment(e).startOf("month").weekday(),n=[],a=1;a<=t;a++)n.push("");return n}function n(e){for(var t=moment(e).endOf("month").weekday(),n=[],a=6-t,r=1;r<=a;r+=1)n.push("");return n}function a(){return[0,1,2,3,4,5,6].map(function(e,t){return moment().weekday(t).format("ddd").charAt(0)})}function r(r){var o=moment(r).year()+"-"+moment(r).month();if(!u[o]){var i=[],s=[],l={},c=t(r).concat(e(r)).concat(n(r)),m=a();i.push(m),s.push(m);for(var f=0,h=1;f<c.length;f+=7){var d=c.slice(f,f+7);d.forEach(function(e,t){l[e]={row:h,col:t}}),i.push(d),s.push(d.map(function(e){return moment(r).set("date",e)})),h++}u[o]={weeksTableDateMap:l,weeksTable:i,momentWeeksTable:s}}return u[o]}function o(e,t,n){return t?moment(e,t,n).isValid():moment(e,n).isValid()}var u={};return{isValidDate:o,initWeeksDay:a,populateWeeksTable:r,getDaysOfMonth:e,getPreviousMonthOverlappingDays:t,getNextMonthOverlappingDays:n}}),angular.module("ngMomentCalendar",[])}();